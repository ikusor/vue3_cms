import{a as M,O as j,z as v,k as O,o as t,f as g,g as i,w as n,V as C,ao as b,p as u,x as _,j as S,a3 as E,a2 as q,r as L}from"./index-Y4Rm1UyW.js";import{E as D}from"./el-button-D2Kp3mTB.js";import{E as A,a as F}from"./el-form-item-BSu2bw99.js";import{E as Q,a as G}from"./el-col-BddE3-2q.js";import{E as T,a as W}from"./el-overlay-pLGtDFsq.js";import{E as $}from"./el-checkbox-C-h0dbjF.js";import"./el-scrollbar-CkpSCn_1.js";import"./el-popper-BbV4k6S7.js";import{u as X,E as z,a as B,b as Z}from"./format-DChr1d26.js";import{M as H,a as J,g as K,b as Y,c as ee,d as le,e as oe,f as ae,l as te,n as ne,h as re,p as se,q as pe,j as ce,k as ue,m as de,o as ie,s as _e}from"./index-BdfKopl0.js";const me=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:H,asc:J,getPercentWithPrecision:K,getPixelPrecision:Y,getPrecision:ee,getPrecisionSafe:le,isNumeric:oe,isRadianAroundZero:ae,linearMap:te,nice:ne,numericToNumber:re,parseDate:se,quantile:pe,quantity:ce,quantityExponent:ue,reformIntervals:de,remRadian:ie,round:_e},Symbol.toStringTag,{value:"Module"})),fe={key:0,class:"search"},ve={class:"btns"},he=M({__name:"page-search",props:{searchConfig:{}},emits:["queryClick","resetClick"],setup(c,{emit:m}){const o=j({}),l=v(),d=m,r=c,f=X(`${r.searchConfig.pageName}:query`),h=()=>{var k;(k=l.value)==null||k.resetFields(),d("resetClick")},I=()=>{d("queryClick",o)};return(k,s)=>{const p=$,P=z,N=B,U=T,w=A,x=Q,R=G,y=F,V=D;return O(f)?(t(),g("div",fe,[i(y,{model:o,ref_key:"formRef",ref:l,"label-width":"120px",size:"large"},{default:n(()=>[i(R,{gutter:20},{default:n(()=>[(t(!0),g(C,null,b(r.searchConfig.formItems,e=>(t(),u(x,{key:e.prop,span:8},{default:n(()=>[i(w,{label:e.label,prop:e.prop},{default:n(()=>[e.type==="input"?(t(),u(p,{key:0,modelValue:o[e.prop],"onUpdate:modelValue":a=>o[e.prop]=a,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):_("",!0),e.type==="select"?(t(),u(N,{key:1,modelValue:o[e.prop],"onUpdate:modelValue":a=>o[e.prop]=a,placeholder:e.placeholder},{default:n(()=>[(t(!0),g(C,null,b(e.options,a=>(t(),u(P,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):_("",!0),e.type==="date-picker"?(t(),u(U,{key:2,modelValue:o[e.prop],"onUpdate:modelValue":a=>o[e.prop]=a,type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue","onUpdate:modelValue"])):_("",!0)]),_:2},1032,["label","prop"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model"]),S("div",ve,[i(V,{size:"large",icon:"Refresh",onClick:h},{default:n(()=>[E("重置")]),_:1}),i(V,{size:"large",icon:"Search",type:"primary",onClick:I},{default:n(()=>[E(" 查询 ")]),_:1})])])):_("",!0)}}}),Se=q(he,[["__scopeId","data-v-0a1be427"]]),ge={class:"model"},ke={class:"form"},ye={class:"dialog-footer"},Ve=M({__name:"page-model",props:{modelConfig:{},otherInfo:{}},setup(c,{expose:m}){const o=c,l=v({name:"",parentId:me,createAt:"",updateAt:""}),d=v(),r=Z(),f=v(!1),h=v(!0);function I(s){if(f.value=!0,s){h.value=!1,d.value=s.id;for(const p in l.value)l.value[p]=s[p]}else{h.value=!0;for(const p in l.value)l.value[p]=""}}const k=()=>{let s={...l.value};o.otherInfo&&(s={...s,...o.otherInfo}),h.value?(r.newPageDataAction(o.modelConfig.pageName,s),l.value.name="",l.value.leader="",l.value.parentId="",l.value.roleId="",l.value.departmentId=""):r.editPageDataAction(o.modelConfig.pageName,d.value,s),f.value=!1};return m({setModelVisible:I}),(s,p)=>{const P=$,N=z,U=B,w=T,x=A,R=F,y=D,V=W;return t(),g("div",ge,[i(V,{modelValue:f.value,"onUpdate:modelValue":p[1]||(p[1]=e=>f.value=e),title:h.value?o.modelConfig.header.newTitle:o.modelConfig.header.editTitle,width:"500",center:""},{footer:n(()=>[S("div",ye,[i(y,{onClick:p[0]||(p[0]=e=>f.value=!1)},{default:n(()=>[E("取消")]),_:1}),i(y,{type:"primary",onClick:k},{default:n(()=>[E(" 确定 ")]),_:1})])]),default:n(()=>[S("div",ke,[i(R,{model:l.value,"label-width":"70px"},{default:n(()=>[(t(!0),g(C,null,b(o.modelConfig.formItems,e=>(t(),u(x,{key:e.prop,label:e.label,prop:e.prop},{default:n(()=>[e.type==="input"?(t(),u(P,{key:0,modelValue:l.value[e.prop],"onUpdate:modelValue":a=>l.value[e.prop]=a,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):_("",!0),e.type==="select"?(t(),u(U,{key:1,modelValue:l.value[e.prop],"onUpdate:modelValue":a=>l.value[e.prop]=a,placeholder:e.placeholder},{default:n(()=>[(t(!0),g(C,null,b(e.options,a=>(t(),u(N,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):_("",!0),e.type==="date-picker"?(t(),u(w,{key:2,modelValue:l.value[e.prop],"onUpdate:modelValue":a=>l.value[e.prop]=a,type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue","onUpdate:modelValue"])):_("",!0),e.type==="custom"?L(s.$slots,e.slotName,{key:3},void 0,!0):_("",!0)]),_:2},1032,["label","prop"]))),128))]),_:3},8,["model"])])]),_:3},8,["modelValue","title"])])}}}),Me=q(Ve,[["__scopeId","data-v-49c0f7a0"]]);function qe(){const c=v();return{pageContentRef:c,handleQueryClick:l=>{var d;(d=c.value)==null||d.fetchPageListData(l)},handleResetClick:()=>{var l;(l=c.value)==null||l.fetchPageListData()}}}function De(c,m){const o=v();return{pageModelRef:o,handleNewClick:()=>{var r;(r=o.value)==null||r.setModelVisible(),c&&c()},handleEditClick:r=>{o.value.setModelVisible(r),m&&m(r)}}}export{De as a,Me as b,Se as p,qe as u};
